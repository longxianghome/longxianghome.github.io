<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>记录 总结 思考 成长</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="记录 总结 思考 成长">
<meta property="og:url" content="http://longxianghome.com/page/29/index.html">
<meta property="og:site_name" content="记录 总结 思考 成长">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记录 总结 思考 成长">
  
    <link rel="alternate" href="/atom.xml" title="记录 总结 思考 成长" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">记录 总结 思考 成长</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Java Web 开发</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://longxianghome.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-20160523-JPA 注解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/23/20160523-JPA 注解/" class="article-date">
  <time datetime="2016-05-23T12:20:00.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JPA/">JPA</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/20160523-JPA 注解/">JPA 注解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>@Entity：<br>@Entity 标注用于实体类声明语句之前，指出该Java 类为实体类，将映射到指定的数据库表。如声明一个实体类 Customer，它将映射到数据库中的 customer 表上。表名即类名</p>
<p>@Table：<br>当实体类与其映射的数据库表名不同名时需要使用 @Table 标注说明，该标注与 @Entity 标注并列使用，置于实体类声明语句之前，可写于单独语句行，也可与声明语句同行。<br>@Table 标注的常用选项是 name，用于指明数据库的表名<br>@Table标注还有一个两个选项 catalog 和 schema 用于设置表所属的数据库目录或模式，通常为数据库名。uniqueConstraints选项用于设置约束条件，通常不须设置。</p>
<p>@Id：<br>@Id 标注用于声明一个实体类的属性映射为数据库的主键列。该属性通常置于属性声明语句之前，可与声明语句同行，也可写在单独行上。<br>@Id标注也可置于属性的getter方法之前。</p>
<p>@GeneratedValue：<br>@GeneratedValue  用于标注主键的生成策略，通过 strategy 属性指定。默认情况下，JPA 自动选择一个最适合底层数据库的主键生成策略：SqlServer对应 identity，MySQL 对应 auto increment。<br>在 javax.persistence.GenerationType中定义了以下几种可供选择的策略：<br>    –IDENTITY：采用数据库 ID自增长的方式来自增主键字段，Oracle 不支持这种方式；<br>    –AUTO： JPA自动选择合适的策略，是默认选项；<br>    –SEQUENCE：通过序列产生主键，通过 @SequenceGenerator 注解指定序列名，MySql不支持这种方式<br>    –TABLE：通过表产生主键，框架借由表模拟序列产生主键，使用该策略可以使应用更易于数据库移植。</p>
<p>@Basic：<br>@Basic 表示一个简单的属性到数据库表的字段的映射,对于没有任何标注的 getXxxx() 方法,默认即为@Basic<br>fetch: 表示该属性的读取策略,有 EAGER 和 LAZY 两种,分别表示主支抓取和延迟加载,默认为 EAGER.<br>optional:表示该属性是否允许为null, 默认为true</p>
<p>@Column：<br>当实体的属性与其映射的数据库表的列不同名时需要使用@Column 标注说明，该属性通常置于实体的属性声明语句之前，还可与 @Id 标注一起使用。<br>@Column 标注的常用属性是 name，用于设置映射数据库表的列名。此外，该标注还包含其它多个属性，如：unique 、nullable、length 等。<br>@Column 标注的 columnDefinition属性: 表示该字段在数据库中的实际类型.通常 ORM 框架可以根据属性类型自动判断数据库中字段的类型,但是对于Date类型仍无法确定数据库中字段类型究竟是DATE,TIME还是TIMESTAMP.此外,String的默认映射类型为VARCHAR, 如果要将 String 类型映射到特定数据库的 BLOB 或TEXT 字段类型.<br>@Column标注也可置于属性的getter方法之前</p>
<p>@Transient：<br>表示该属性并非一个到数据库表的字段的映射,ORM框架将忽略该属性.<br>如果一个属性并非数据库表的字段映射,就务必将其标示为@Transient,否则,ORM框架默认其注解为@Basic</p>
<p>@Temporal：<br>在核心的 Java API 中并没有定义Date 类型的精度(temporal precision).  而在数据库中,表示Date 类型的数据有 DATE, TIME, 和 TIMESTAMP 三种精度(即单纯的日期,时间,或者两者 兼备). 在进行属性映射时可使用@Temporal注解来调整精度.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://longxianghome.com/2016/05/23/20160523-JPA 注解/" data-id="cjlc35es8004b7d6bnmt5j68y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JPA/">JPA</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-20160522-JPA HelloWorld" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/22/20160522-JPA HelloWorld/" class="article-date">
  <time datetime="2016-05-22T12:20:00.000Z" itemprop="datePublished">2016-05-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JPA/">JPA</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/22/20160522-JPA HelloWorld/">JPA HelloWorld</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JPA 是Java Persistence API 的简称，为Java EE 5.0 平台标准的ORM规范，统一访问持久层的方式，类似于JDBC</p>
<p>1.创建工程<br>如果是Eclipse，则直接选择创建JPA工程<br>如果是Maven，则可以手动增加META-INF目录和persistence.xml文件，或者修改Project Facets选择JPA</p>
<p>2.依赖包</p>
<p>maven依赖管理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.hibernate&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;</span><br><span class="line">	&lt;version&gt;4.2.4.Final&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">	&lt;version&gt;5.1.38&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>3.创建实体对象并添加注解</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">@Table(name=&quot;CUSTOMERS&quot;)</span><br><span class="line">@Entity</span><br><span class="line">public class Customer &#123;</span><br><span class="line">	private Integer id;</span><br><span class="line">	private String name;</span><br><span class="line">	private String email;</span><br><span class="line">	private int age;</span><br><span class="line">	</span><br><span class="line">	@Column(name=&quot;ID&quot;)</span><br><span class="line">	@GeneratedValue(strategy=GenerationType.AUTO)</span><br><span class="line">	@Id</span><br><span class="line">	public Integer getId() &#123;</span><br><span class="line">		return id;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setId(Integer id) &#123;</span><br><span class="line">		this.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	@Column(name=&quot;Name&quot;)</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	@Column(name=&quot;Email&quot;)</span><br><span class="line">	public String getEmail() &#123;</span><br><span class="line">		return email;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setEmail(String email) &#123;</span><br><span class="line">		this.email = email;</span><br><span class="line">	&#125;</span><br><span class="line">	@Column(name=&quot;Age&quot;)</span><br><span class="line">	public int getAge() &#123;</span><br><span class="line">		return age;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setAge(int age) &#123;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.配置JPA persistence.xml配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;persistence version=&quot;2.0&quot;</span><br><span class="line">	xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;</span><br><span class="line">	&lt;persistence-unit name=&quot;JPA&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;</span><br><span class="line">		&lt;!-- </span><br><span class="line">			配置使用什么ORM产品来作为JPA实现</span><br><span class="line">			1.实际配置的是javax.persistence.spi.PersistenceProvider接口实现类</span><br><span class="line">			2.若项目中只有一个ORM产品,该配置可以省略</span><br><span class="line">		--&gt;</span><br><span class="line">		&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;!-- 添加持久化类 --&gt;</span><br><span class="line">		&lt;class&gt;com.dragon.jpa.model.Customer&lt;/class&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;properties&gt;</span><br><span class="line">			&lt;!-- 配置数据库连接信息 --&gt;</span><br><span class="line">			&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;</span><br><span class="line">			&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/jpa&quot; /&gt;</span><br><span class="line">			&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;mysql&quot; /&gt;</span><br><span class="line">			&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;Mysql123456&quot; /&gt;</span><br><span class="line">			</span><br><span class="line">			&lt;!-- 配置JPA实现产品的基本属性 --&gt;</span><br><span class="line">			&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">			&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;</span><br><span class="line">		&lt;/properties&gt;</span><br><span class="line">	&lt;/persistence-unit&gt;</span><br><span class="line">&lt;/persistence&gt;</span><br></pre></td></tr></table></figure>
<p>5.测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import javax.persistence.EntityManager;</span><br><span class="line">import javax.persistence.EntityManagerFactory;</span><br><span class="line">import javax.persistence.EntityTransaction;</span><br><span class="line">import javax.persistence.Persistence;</span><br><span class="line">import com.dragon.jpa.model.Customer;</span><br><span class="line">public class Main &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//persistence.xml文件中persistence-unit标签name属性值</span><br><span class="line">		String persistenceUnitName = &quot;JPA&quot;;</span><br><span class="line">		//1.创建EntitymanagerFactory</span><br><span class="line">		EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(persistenceUnitName );</span><br><span class="line">		</span><br><span class="line">		//2.创建EntityManager</span><br><span class="line">		EntityManager entityManager = entityManagerFactory.createEntityManager();</span><br><span class="line">		</span><br><span class="line">		//3.开启事务</span><br><span class="line">		EntityTransaction transaction = entityManager.getTransaction();</span><br><span class="line">		transaction.begin();</span><br><span class="line">		</span><br><span class="line">		//4.进行持久化操作</span><br><span class="line">		Customer customer = new Customer();</span><br><span class="line">		customer.setAge(12);</span><br><span class="line">		customer.setEmail(&quot;ricky@163.com&quot;);</span><br><span class="line">		customer.setName(&quot;Ricky&quot;);</span><br><span class="line">		entityManager.persist(customer);</span><br><span class="line">		</span><br><span class="line">		//5. 提交事务</span><br><span class="line">		transaction.commit();</span><br><span class="line">		</span><br><span class="line">		//6.关闭EntityManager</span><br><span class="line">		entityManager.close();</span><br><span class="line">		</span><br><span class="line">		//7.关闭EntityManager</span><br><span class="line">		entityManagerFactory.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://longxianghome.com/2016/05/22/20160522-JPA HelloWorld/" data-id="cjlc35es700477d6bq43un1gv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JPA/">JPA</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-20160404- Java CAS 概述" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/04/20160404- Java CAS 概述/" class="article-date">
  <time datetime="2016-04-04T13:45:00.000Z" itemprop="datePublished">2016-04-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java-Concurrent/">Java Concurrent</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/04/20160404- Java CAS 概述/">Java CAS 概述</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>JDK 1.5 之前 Java 语言是靠 <strong>synchronized</strong> 关键字保证线程同步的，这种同步是悲观的，独占的。</p>
<p>JDK 1.5 之后 Java 在 java.util.concurrent 包下提供了很多新的并发类，很多是基于乐观锁实现的。</p>
<p>其中 CAS （Compare and Swap ）是基于现代 CPU 支持的在算法级支持读-修改-写操作的原子性的一种新的乐观锁机制。</p>
<p>CAS 算法涉及三个核心参数：</p>
<ul>
<li>主内存中存放的 V 值，所有线程共享的一个值</li>
<li>线程栈中拷贝的 V 值的复制值 V-old 值</li>
<li>线程栈中修改后的 V-new 值，即需要同步的主内存中用于修改主内存中 V 值</li>
</ul>
<p>CAS 的核心机制就是：<br><strong>当需要将线程栈内的值更新同步的主内存时，基于乐观锁机制，判断主内存中 V 值和线程栈中 V-old 值是否一致，若一致，则表示此时没有其他线程修改过该值，可直接将 V 值 修改为 V-new 值，若不一致，则表示此时已经有其他线程修改过该值，那么会将主内存中的 V 值重新同步到线程栈中保存新的 V-old 值，重新计算得到 V-new 值，重新判断 V-old 和主内存中的 V 值是否一样，若一样则更新，反之继续重复相同的逻辑。</strong></p>
<p>CAS 弊端：</p>
<ol>
<li>循环比较交换时间很长</li>
<li>ABA 问题</li>
</ol>
<p><strong>循环比较交换时间很长</strong></p>
<p>通过查看 java.util.concurrent AtomicInteger 类的源码，很多操作都是委托给 Unsafe 类进行操作，以 getAndAddInt 为例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public final int getAndAddInt(Object var1, long var2, int var4) &#123;</span><br><span class="line">    int var5;</span><br><span class="line">    do &#123;</span><br><span class="line">        var5 = this.getIntVolatile(var1, var2);</span><br><span class="line">    &#125; while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4));</span><br><span class="line"></span><br><span class="line">    return var5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从代码中可以看出，CAS 失败的话，会一直进行尝试，如果 CAS 长时间一直不成功，可能会带来很大的开销</p>
<p><strong>ABA 问题</strong></p>
<p>ABA 问题就是 A 先改成 B，但是又改回了 A，CAS 会误认为没有发生改变。</p>
<p>Java 中为了解决 ABA 问题，又单独提供了一个 AtomicStampedReference 的类，就是对变量进行版本控制。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://longxianghome.com/2016/04/04/20160404- Java CAS 概述/" data-id="cjlc35esb004m7d6blm5zpf6m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CAS/">CAS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-20160315-类 ReentrantLock 实现同步" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/10/20160315-类 ReentrantLock 实现同步/" class="article-date">
  <time datetime="2016-03-10T13:45:00.000Z" itemprop="datePublished">2016-03-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java-Concurrent/">Java Concurrent</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/10/20160315-类 ReentrantLock 实现同步/">类 ReentrantLock 实现同步</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ReentrantLock 是 JDK 1.5 中增加的，可以同样达到 synchronized 关键字的效果，甚至更强。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class Service &#123;</span><br><span class="line"></span><br><span class="line">	private Lock lock = new ReentrantLock();</span><br><span class="line"></span><br><span class="line">	public void service() &#123;</span><br><span class="line">		for (int i=0; i &lt; 10; i++) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName() + &quot; &quot; + i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class DemoThread extends Thread &#123;</span><br><span class="line"></span><br><span class="line">	private Service service;</span><br><span class="line"></span><br><span class="line">	public DemoThread(Service service) &#123;</span><br><span class="line">		this.service = service;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		service.service();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class ThreadRunner &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Service service = new Service();</span><br><span class="line">		DemoThread thread1 = new DemoThread(service);</span><br><span class="line">		DemoThread thread2 = new DemoThread(service);</span><br><span class="line">		DemoThread thread3 = new DemoThread(service);</span><br><span class="line">		DemoThread thread4 = new DemoThread(service);</span><br><span class="line">		DemoThread thread5 = new DemoThread(service);</span><br><span class="line">		thread1.start();</span><br><span class="line">		thread2.start();</span><br><span class="line">		thread3.start();</span><br><span class="line">		thread4.start();</span><br><span class="line">		thread5.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台日志：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Thread-0 0</span><br><span class="line">Thread-2 0</span><br><span class="line">Thread-2 1</span><br><span class="line">Thread-2 2</span><br><span class="line">Thread-0 1</span><br><span class="line">Thread-1 0</span><br><span class="line">Thread-1 1</span><br><span class="line">Thread-1 2</span><br><span class="line">Thread-1 3</span><br><span class="line">Thread-0 2</span><br><span class="line">Thread-2 3</span><br><span class="line">Thread-4 0</span><br><span class="line">Thread-0 3</span><br><span class="line">Thread-1 4</span><br><span class="line">Thread-3 0</span><br><span class="line">Thread-3 1</span><br><span class="line">Thread-1 5</span><br><span class="line">Thread-0 4</span><br><span class="line">Thread-4 1</span><br><span class="line">Thread-2 4</span><br><span class="line">Thread-4 2</span><br><span class="line">Thread-0 5</span><br><span class="line">Thread-1 6</span><br><span class="line">Thread-3 2</span><br><span class="line">Thread-1 7</span><br><span class="line">Thread-0 6</span><br><span class="line">Thread-4 3</span><br><span class="line">Thread-2 5</span><br><span class="line">Thread-2 6</span><br><span class="line">Thread-4 4</span><br><span class="line">Thread-0 7</span><br><span class="line">Thread-1 8</span><br><span class="line">Thread-3 3</span><br><span class="line">Thread-1 9</span><br><span class="line">Thread-0 8</span><br><span class="line">Thread-4 5</span><br><span class="line">Thread-2 7</span><br><span class="line">Thread-4 6</span><br><span class="line">Thread-0 9</span><br><span class="line">Thread-3 4</span><br><span class="line">Thread-4 7</span><br><span class="line">Thread-2 8</span><br><span class="line">Thread-2 9</span><br><span class="line">Thread-4 8</span><br><span class="line">Thread-4 9</span><br><span class="line">Thread-3 5</span><br><span class="line">Thread-3 6</span><br><span class="line">Thread-3 7</span><br><span class="line">Thread-3 8</span><br><span class="line">Thread-3 9</span><br></pre></td></tr></table></figure></p>
<p>可以看到，线程不是同步运行的</p>
<p>修改 Service：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.locks.Lock;</span><br><span class="line">import java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line">public class Service &#123;</span><br><span class="line"></span><br><span class="line">	private Lock lock = new ReentrantLock();</span><br><span class="line"></span><br><span class="line">	public void service() &#123;</span><br><span class="line">		lock.lock();</span><br><span class="line">		for (int i=0; i &lt; 10; i++) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName() + &quot; &quot; + i);</span><br><span class="line">		&#125;</span><br><span class="line">		lock.unlock();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>控制台日志：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Thread-0 0</span><br><span class="line">Thread-0 1</span><br><span class="line">Thread-0 2</span><br><span class="line">Thread-0 3</span><br><span class="line">Thread-0 4</span><br><span class="line">Thread-0 5</span><br><span class="line">Thread-0 6</span><br><span class="line">Thread-0 7</span><br><span class="line">Thread-0 8</span><br><span class="line">Thread-0 9</span><br><span class="line">Thread-1 0</span><br><span class="line">Thread-1 1</span><br><span class="line">Thread-1 2</span><br><span class="line">Thread-1 3</span><br><span class="line">Thread-1 4</span><br><span class="line">Thread-1 5</span><br><span class="line">Thread-1 6</span><br><span class="line">Thread-1 7</span><br><span class="line">Thread-1 8</span><br><span class="line">Thread-1 9</span><br><span class="line">Thread-2 0</span><br><span class="line">Thread-2 1</span><br><span class="line">Thread-2 2</span><br><span class="line">Thread-2 3</span><br><span class="line">Thread-2 4</span><br><span class="line">Thread-2 5</span><br><span class="line">Thread-2 6</span><br><span class="line">Thread-2 7</span><br><span class="line">Thread-2 8</span><br><span class="line">Thread-2 9</span><br><span class="line">Thread-3 0</span><br><span class="line">Thread-3 1</span><br><span class="line">Thread-3 2</span><br><span class="line">Thread-3 3</span><br><span class="line">Thread-3 4</span><br><span class="line">Thread-3 5</span><br><span class="line">Thread-3 6</span><br><span class="line">Thread-3 7</span><br><span class="line">Thread-3 8</span><br><span class="line">Thread-3 9</span><br><span class="line">Thread-4 0</span><br><span class="line">Thread-4 1</span><br><span class="line">Thread-4 2</span><br><span class="line">Thread-4 3</span><br><span class="line">Thread-4 4</span><br><span class="line">Thread-4 5</span><br><span class="line">Thread-4 6</span><br><span class="line">Thread-4 7</span><br><span class="line">Thread-4 8</span><br><span class="line">Thread-4 9</span><br></pre></td></tr></table></figure></p>
<p>可以看到，线程是同步运行的，但是线程的执行顺序是随机的</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://longxianghome.com/2016/03/10/20160315-类 ReentrantLock 实现同步/" data-id="cjlc35esa004i7d6b38vxbp8z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReentrantLock/">ReentrantLock</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-20160310-类 ThreadLocal 的使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/10/20160310-类 ThreadLocal 的使用/" class="article-date">
  <time datetime="2016-03-10T13:45:00.000Z" itemprop="datePublished">2016-03-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java-Thread/">Java Thread</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/10/20160310-类 ThreadLocal 的使用/">类 ThreadLocal 的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>public static 修饰的变量可以让所有线程都共享，但是如果每一个线程都想有自己的共享变量则需要依赖 ThreadLocal 类了。</p>
<p>public static 可以简单理解为所有线程的共享数据，ThreadLocal 变量可以简单理解为单个线程内的共享数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public class ThreadHolder &#123;</span><br><span class="line"></span><br><span class="line">	public static ThreadLocal threadLocal = new ThreadLocal();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>线程：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class ThreadA extends Thread &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		for (int i = 0; i &lt; 50; i++) &#123;</span><br><span class="line">			ThreadHolder.threadLocal.set(&quot;ThreadA&quot; + i);</span><br><span class="line">			System.out.println(ThreadHolder.threadLocal.get());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class ThreadB extends Thread &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		for (int i = 0; i &lt; 50; i++) &#123;</span><br><span class="line">			ThreadHolder.threadLocal.set(&quot;ThreadB&quot; + i);</span><br><span class="line">			System.out.println(ThreadHolder.threadLocal.get());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class ThreadRunner &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ThreadA threadA = new ThreadA();</span><br><span class="line">		ThreadB threadB = new ThreadB();</span><br><span class="line">		threadA.start();</span><br><span class="line">		threadB.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制台日志：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">ThreadA0</span><br><span class="line">ThreadA1</span><br><span class="line">ThreadA2</span><br><span class="line">ThreadA3</span><br><span class="line">ThreadA4</span><br><span class="line">ThreadA5</span><br><span class="line">ThreadA6</span><br><span class="line">ThreadA7</span><br><span class="line">ThreadA8</span><br><span class="line">ThreadA9</span><br><span class="line">ThreadA10</span><br><span class="line">ThreadA11</span><br><span class="line">ThreadA12</span><br><span class="line">ThreadA13</span><br><span class="line">ThreadA14</span><br><span class="line">ThreadA15</span><br><span class="line">ThreadA16</span><br><span class="line">ThreadA17</span><br><span class="line">ThreadA18</span><br><span class="line">ThreadA19</span><br><span class="line">ThreadA20</span><br><span class="line">ThreadA21</span><br><span class="line">ThreadA22</span><br><span class="line">ThreadA23</span><br><span class="line">ThreadA24</span><br><span class="line">ThreadA25</span><br><span class="line">ThreadA26</span><br><span class="line">ThreadA27</span><br><span class="line">ThreadA28</span><br><span class="line">ThreadA29</span><br><span class="line">ThreadA30</span><br><span class="line">ThreadA31</span><br><span class="line">ThreadA32</span><br><span class="line">ThreadA33</span><br><span class="line">ThreadA34</span><br><span class="line">ThreadA35</span><br><span class="line">ThreadA36</span><br><span class="line">ThreadA37</span><br><span class="line">ThreadA38</span><br><span class="line">ThreadA39</span><br><span class="line">ThreadA40</span><br><span class="line">ThreadA41</span><br><span class="line">ThreadA42</span><br><span class="line">ThreadA43</span><br><span class="line">ThreadA44</span><br><span class="line">ThreadA45</span><br><span class="line">ThreadA46</span><br><span class="line">ThreadA47</span><br><span class="line">ThreadA48</span><br><span class="line">ThreadA49</span><br><span class="line">ThreadB0</span><br><span class="line">ThreadB1</span><br><span class="line">ThreadB2</span><br><span class="line">ThreadB3</span><br><span class="line">ThreadB4</span><br><span class="line">ThreadB5</span><br><span class="line">ThreadB6</span><br><span class="line">ThreadB7</span><br><span class="line">ThreadB8</span><br><span class="line">ThreadB9</span><br><span class="line">ThreadB10</span><br><span class="line">ThreadB11</span><br><span class="line">ThreadB12</span><br><span class="line">ThreadB13</span><br><span class="line">ThreadB14</span><br><span class="line">ThreadB15</span><br><span class="line">ThreadB16</span><br><span class="line">ThreadB17</span><br><span class="line">ThreadB18</span><br><span class="line">ThreadB19</span><br><span class="line">ThreadB20</span><br><span class="line">ThreadB21</span><br><span class="line">ThreadB22</span><br><span class="line">ThreadB23</span><br><span class="line">ThreadB24</span><br><span class="line">ThreadB25</span><br><span class="line">ThreadB26</span><br><span class="line">ThreadB27</span><br><span class="line">ThreadB28</span><br><span class="line">ThreadB29</span><br><span class="line">ThreadB30</span><br><span class="line">ThreadB31</span><br><span class="line">ThreadB32</span><br><span class="line">ThreadB33</span><br><span class="line">ThreadB34</span><br><span class="line">ThreadB35</span><br><span class="line">ThreadB36</span><br><span class="line">ThreadB37</span><br><span class="line">ThreadB38</span><br><span class="line">ThreadB39</span><br><span class="line">ThreadB40</span><br><span class="line">ThreadB41</span><br><span class="line">ThreadB42</span><br><span class="line">ThreadB43</span><br><span class="line">ThreadB44</span><br><span class="line">ThreadB45</span><br><span class="line">ThreadB46</span><br><span class="line">ThreadB47</span><br><span class="line">ThreadB48</span><br><span class="line">ThreadB49</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://longxianghome.com/2016/03/10/20160310-类 ThreadLocal 的使用/" data-id="cjlc35es600447d6b89w7hvpz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ThreadLocal/">ThreadLocal</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/28/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><span class="space">&hellip;</span><a class="page-number" href="/page/38/">38</a><a class="extend next" rel="next" href="/page/30/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CI/">CI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Gitflow/">Gitflow</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK/">JDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK-源码-1-7/">JDK 源码 1.7</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK-源码-1-8-0-161/">JDK 源码 1.8.0_161</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JIRA/">JIRA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JPA/">JPA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Collections-Framework/">Java Collections Framework</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Concurrent/">Java Concurrent</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Servlet/">Java Servlet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Thread/">Java Thread</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-算法/">Java 算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyBatis/">MyBatis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyBatis-原理/">MyBatis 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyCAT/">MyCAT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot/">Spring Boot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot-源码/">Spring Boot 源码</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Framework/">Spring Framework</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Framework-Tutorial/">Spring Framework Tutorial</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Security/">Spring Security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web-安全/">Web 安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ZooKeeper/">ZooKeeper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/《Java-核心技术-36-讲》专栏笔记/">《Java 核心技术 36 讲》专栏笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/《深入拆解-Java-虚拟机》专栏笔记/">《深入拆解 Java 虚拟机》专栏笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/《深入理解Java虚拟机》/">《深入理解Java虚拟机》</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作积累/">工作积累</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/行业知识/">行业知识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ArrayList/">ArrayList</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAS/">CAS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI/">CI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-持续集成/">CI 持续集成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSRF/">CSRF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Collection/">Collection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Comparable/">Comparable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Comparator/">Comparator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExceptionHandler/">ExceptionHandler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GS1/">GS1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitflow/">Gitflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HashMap/">HashMap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Iterator/">Iterator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/">JDK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK-8/">JDK 8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JIRA/">JIRA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JPA/">JPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-Collections-Framework/">Java Collections Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-IO-Framework/">Java IO Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-Thread/">Java Thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-虚拟机/">Java 虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java虚拟机/">Java虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LinkedList/">LinkedList</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/">MyBatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyCAT/">MyCAT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReentrantLock/">ReentrantLock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RestTemplate/">RestTemplate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Servlet/">Servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shadowsocks/">Shadowsocks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sonatype-Nexus/">Sonatype Nexus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Boot/">Spring Boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/">Spring Cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Framework/">Spring Framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Security/">Spring Security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ThreadLocal/">ThreadLocal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XSS/">XSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZooKeeper/">ZooKeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/冒泡排序/">冒泡排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/包装类/">包装类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单例模式/">单例模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作积累/">工作积累</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工厂模式/">工厂模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/持续集成/">持续集成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插入排序/">插入排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程/">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/适配器模式/">适配器模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择排序/">选择排序</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ArrayList/" style="font-size: 11px;">ArrayList</a> <a href="/tags/CAS/" style="font-size: 10px;">CAS</a> <a href="/tags/CI/" style="font-size: 12px;">CI</a> <a href="/tags/CI-持续集成/" style="font-size: 10px;">CI 持续集成</a> <a href="/tags/CSRF/" style="font-size: 10px;">CSRF</a> <a href="/tags/Collection/" style="font-size: 10px;">Collection</a> <a href="/tags/Comparable/" style="font-size: 10px;">Comparable</a> <a href="/tags/Comparator/" style="font-size: 10px;">Comparator</a> <a href="/tags/ExceptionHandler/" style="font-size: 10px;">ExceptionHandler</a> <a href="/tags/GS1/" style="font-size: 11px;">GS1</a> <a href="/tags/Gitflow/" style="font-size: 10px;">Gitflow</a> <a href="/tags/HashMap/" style="font-size: 10px;">HashMap</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Iterator/" style="font-size: 10px;">Iterator</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JDK-8/" style="font-size: 13px;">JDK 8</a> <a href="/tags/JIRA/" style="font-size: 10px;">JIRA</a> <a href="/tags/JPA/" style="font-size: 17px;">JPA</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Java-Collections-Framework/" style="font-size: 10px;">Java Collections Framework</a> <a href="/tags/Java-IO-Framework/" style="font-size: 15px;">Java IO Framework</a> <a href="/tags/Java-Thread/" style="font-size: 18px;">Java Thread</a> <a href="/tags/Java-虚拟机/" style="font-size: 12px;">Java 虚拟机</a> <a href="/tags/Java虚拟机/" style="font-size: 11px;">Java虚拟机</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/LinkedList/" style="font-size: 10px;">LinkedList</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 20px;">MyBatis</a> <a href="/tags/MyCAT/" style="font-size: 10px;">MyCAT</a> <a href="/tags/MySQL/" style="font-size: 16px;">MySQL</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Redis/" style="font-size: 11px;">Redis</a> <a href="/tags/ReentrantLock/" style="font-size: 10px;">ReentrantLock</a> <a href="/tags/RestTemplate/" style="font-size: 10px;">RestTemplate</a> <a href="/tags/Servlet/" style="font-size: 12px;">Servlet</a> <a href="/tags/Shadowsocks/" style="font-size: 10px;">Shadowsocks</a> <a href="/tags/Sonatype-Nexus/" style="font-size: 10px;">Sonatype Nexus</a> <a href="/tags/Spring-Boot/" style="font-size: 19px;">Spring Boot</a> <a href="/tags/Spring-Cloud/" style="font-size: 16px;">Spring Cloud</a> <a href="/tags/Spring-Framework/" style="font-size: 17px;">Spring Framework</a> <a href="/tags/Spring-Security/" style="font-size: 14px;">Spring Security</a> <a href="/tags/ThreadLocal/" style="font-size: 10px;">ThreadLocal</a> <a href="/tags/XSS/" style="font-size: 10px;">XSS</a> <a href="/tags/ZooKeeper/" style="font-size: 10px;">ZooKeeper</a> <a href="/tags/冒泡排序/" style="font-size: 10px;">冒泡排序</a> <a href="/tags/包装类/" style="font-size: 10px;">包装类</a> <a href="/tags/单例模式/" style="font-size: 11px;">单例模式</a> <a href="/tags/工作积累/" style="font-size: 11px;">工作积累</a> <a href="/tags/工厂模式/" style="font-size: 10px;">工厂模式</a> <a href="/tags/持续集成/" style="font-size: 12px;">持续集成</a> <a href="/tags/插入排序/" style="font-size: 10px;">插入排序</a> <a href="/tags/编程/" style="font-size: 10px;">编程</a> <a href="/tags/适配器模式/" style="font-size: 10px;">适配器模式</a> <a href="/tags/选择排序/" style="font-size: 10px;">选择排序</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/08/20180808-Spring Security PasswordEncoder 相关源码阅读/">Spring Security PasswordEncoder 相关源码阅读</a>
          </li>
        
          <li>
            <a href="/2018/07/27/20180731-MySQL 事务隔离级别和悲观锁乐观锁原理/">MySQL 事务隔离级别和悲观锁乐观锁原理</a>
          </li>
        
          <li>
            <a href="/2018/07/27/20180727-JVM 如何执行方法调用的/">JVM 如何执行方法调用的</a>
          </li>
        
          <li>
            <a href="/2018/07/25/20180725-Java 虚拟机是如何加载 Java 类的/">Java 虚拟机是如何加载 Java 类的</a>
          </li>
        
          <li>
            <a href="/2018/07/20/20180720-Java 代码是怎么运行的/">Java 代码是怎么运行的</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 longxiang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>